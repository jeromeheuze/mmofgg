RewriteEngine On
RewriteBase /directory/

# 1. Redirect ugly URL with platform[0] and page to clean version
RewriteCond %{QUERY_STRING} ^platform(?:%5B0%5D|\[\])=([^&]+)&page=([0-9]+)$
RewriteRule ^$ platform/%1/page/%2? [R=301,L]

# 2. Redirect ugly URL with only platform
RewriteCond %{QUERY_STRING} ^platform(?:%5B0%5D|\[\])=([^&]+)$
RewriteRule ^$ platform/%1? [R=301,L]

# 3. Redirect ugly URL with only page (if you support standalone pagination)
RewriteCond %{QUERY_STRING} ^page=([0-9]+)$
RewriteRule ^$ page/%1? [R=301,L]

# 4. Redirect model query format
RewriteCond %{QUERY_STRING} ^model(?:%5B0%5D|\[\])=([^&]+)$
RewriteRule ^$ model/%1? [R=301,L]

# 5. Redirect fishing_style query format
RewriteCond %{QUERY_STRING} ^fishing_style(?:%5B0%5D|\[\])=([^&]+)$
RewriteRule ^$ fishing-style/%1? [R=301,L]

# ---------------------------------------
# SEO-friendly rewrite rules to index.php
# ---------------------------------------

# /platform/value/page/2/
RewriteRule ^platform/([^/]+)/page/([0-9]+)/?$ index.php?platform[]=$1&page=$2 [L,QSA]

# /platform/value/
RewriteRule ^platform/([^/]+)/?$ index.php?platform[]=$1 [L,QSA]

# /page/2/
RewriteRule ^page/([0-9]+)/?$ index.php?page=$1 [L,QSA]

# /model/value/
RewriteRule ^model/([^/]+)/?$ index.php?model[]=$1 [L,QSA]

# /fishing-style/value/
RewriteRule ^fishing-style/([^/]+)/?$ index.php?fishing_style[]=$1 [L,QSA]
